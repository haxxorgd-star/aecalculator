<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Energy & Damage Calculator</title>
<style>
body {
  font-family: "Segoe UI", Roboto, sans-serif;
  background: radial-gradient(circle at center, #0a1a2f 0%, #000814 100%);
  color: #cde4ff;
  margin: 0;
  padding: 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.top-buttons {
  display: flex;
  gap: 15px; /* more spacing */
  margin-bottom: 20px;
}

.top-buttons button {
  padding: 8px 20px;
  font-size: 1.05rem;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.top-buttons button:hover { transform: scale(1.05); }
.active-btn { box-shadow: 0 0 12px #3399ff; }

.damage-btn { background: linear-gradient(90deg, #ff3300, #ff6666); color: #fff; }
.energy-btn { background: linear-gradient(90deg, #0066ff, #00ccff); color: #fff; }

.section { display: none; flex-direction: column; align-items: center; width: 100%; max-width: 600px; }
.section.active { display: flex; }

h2 { margin: 0 0 10px 0; }
.notice { font-size: 0.95rem; background: rgba(0,102,255,0.2); padding: 5px 10px; border-radius: 10px; margin-bottom: 15px; text-align: center; width: 100%; }

.inputs-row {
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  width: 100%;
  justify-content: center;
  margin-bottom: 10px;
}

label { font-size: 0.95rem; margin-bottom: 3px; display: block; text-align: center; }

input { padding: 6px 10px; font-size: 0.9rem; border-radius: 8px; border: none; background: rgba(255,255,255,0.1); color: #cde4ff; text-align: center; width: 120px; box-shadow: 0 0 8px #3399ff; }

input.damage-input { box-shadow: 0 0 8px #ff3333; }
input:focus { box-shadow: 0 0 12px #3399ff; }
input.damage-input:focus { box-shadow: 0 0 12px #ff3333; }

button.calc-btn { padding: 6px 16px; font-size: 0.95rem; border-radius: 10px; cursor: pointer; margin-top: 5px; }

#output, #damageOutput {
  margin-top: 10px;
  font-size: 1.1rem;
  text-align: center;
  background: rgba(0,30,60,0.4);
  padding: 12px 20px;
  border-radius: 12px;
  box-shadow: 0 0 12px rgba(0,150,255,0.3);
  width: 100%;
}

.damage-output { color: #ff5555; text-shadow: 0 0 3px #ff8888; }

.collapsible { background-color: rgba(0,30,60,0.4); color: #cde4ff; cursor: pointer; padding: 6px 12px; width: 100%; max-width: 300px; border-radius: 10px; font-size: 0.9rem; text-align: center; margin-top: 10px; }
.content { padding: 6px 12px; display: none; overflow: auto; max-height: 200px; background-color: rgba(0,30,60,0.3); border-radius: 10px; margin-top: 3px; font-size: 0.85rem; text-align: center; }
</style>
</head>
<body>

<div class="top-buttons">
  <button id="energyBtn" class="energy-btn active-btn">Energy Calculator</button>
  <button id="damageBtn" class="damage-btn">Damage Calculator</button>
</div>

<!-- Energy Calculator Section -->
<div id="energySection" class="section active">
  <h2>üîπ Energy Calculator üîπ</h2>
  <div class="notice">‚ö†Ô∏è Includes <strong>Fast Clicker Gamepass</strong> multiplier.</div>

  <div class="inputs-row">
    <div>
      <label>Energy per Click</label>
      <input type="text" id="energyInput" placeholder="44M">
    </div>
    <div>
      <label>Time (s)</label>
      <input type="number" id="secondsInput" value="1" min="1">
    </div>
  </div>

  <div class="inputs-row">
    <div>
      <label>Target Energy</label>
      <input type="text" id="targetEnergy" placeholder="1T">
    </div>
    <div>
      <label>Target Rank</label>
      <input type="number" id="targetRank" min="1" placeholder="116">
    </div>
  </div>

  <div class="inputs-row">
    <button id="calcBtn" class="calc-btn energy-btn">Calculate Energy/Target</button>
    <button id="calcRankBtn" class="calc-btn energy-btn">Calculate Rank Up</button>
  </div>

  <div id="output">Enter values to calculate.</div>

  <button type="button" class="collapsible">Show/Hide Supported Numbers</button>
  <div class="content" id="unitList">
    K, M, B, T, Qd, Qn, Sx, Sp, O, N, De, Ud, Dd, TdD, QdD, QnD, SxD, SpD, OcD, NvD, Vgn, UvG, DvG, Tvg, QtV, QnV, SeV, SpG, OvG, NvG, TgN, UTG, DTG, TsTG, QtTG, QnTG, SsTG, SpTG, OcTG, NoTG, QDDR, uQDR, dQDR, tQDR, qdQDR, QnQDR, SxQDR, SpQDR, OQDDR, NQDDR, qQGNT, uQGNT, dQGNT, tQGNT
  </div>
</div>

<!-- Damage Calculator Section -->
<div id="damageSection" class="section">
  <h2>ü©∏ Damage Calculator ü©∏</h2>

  <div class="inputs-row">
    <div>
      <label>DPS</label>
      <input type="text" id="dpsInput" class="damage-input" placeholder="5M">
    </div>
    <div>
      <label>Mob Health</label>
      <input type="text" id="healthInput" class="damage-input" placeholder="100M">
    </div>
  </div>

  <button id="damageCalcBtn" class="calc-btn damage-btn">Calculate</button>
  <div id="damageOutput">Enter values to calculate.</div>

  <button type="button" class="collapsible" id="damageCollapsible">Show/Hide Supported Numbers</button>
  <div class="content" id="damageUnitList">
    K, M, B, T, Qd, Qn, Sx, Sp, O, N, De, Ud, Dd, TdD, QdD, QnD, SxD, SpD, OcD, NvD, Vgn, UvG, DvG, Tvg, QtV, QnV, SeV, SpG, OvG, NvG, TgN, UTG, DTG, TsTG, QtTG, QnTG, SsTG, SpTG, OcTG, NoTG, QDDR, uQDR, dQDR, tQDR, qdQDR, QnQDR, SxQDR, SpQDR, OQDDR, NQDDR, qQGNT, uQGNT, dQGNT, tQGNT
  </div>
</div>

<script>
// Section switching
const energyBtn = document.getElementById("energyBtn");
const damageBtn = document.getElementById("damageBtn");
const energySection = document.getElementById("energySection");
const damageSection = document.getElementById("damageSection");

energyBtn.addEventListener("click", () => {
  energySection.classList.add("active");
  damageSection.classList.remove("active");
  energyBtn.classList.add("active-btn");
  damageBtn.classList.remove("active-btn");
});
damageBtn.addEventListener("click", () => {
  damageSection.classList.add("active");
  energySection.classList.remove("active");
  damageBtn.classList.add("active-btn");
  energyBtn.classList.remove("active-btn");
});

// Collapsible units
document.getElementsByClassName("collapsible")[0].addEventListener("click", () => {
  const c = document.getElementById("unitList");
  c.style.display = c.style.display === "block" ? "none" : "block";
});
document.getElementById("damageCollapsible").addEventListener("click", () => {
  const c = document.getElementById("damageUnitList");
  c.style.display = c.style.display === "block" ? "none" : "block";
});

// Units
const units = ["K","M","B","T","Qd","Qn","Sx","Sp","O","N","De","Ud","Dd","TdD","QdD","QnD","SxD","SpD","OcD","NvD","Vgn","UvG","DvG","Tvg","QtV","QnV","SeV","SpG","OvG","NvG","TgN","UTG","DTG","TsTG","QtTG","QnTG","SsTG","SpTG","OcTG","NoTG","QDDR","uQDR","dQDR","tQDR","qdQDR","QnQDR","SxQDR","SpQDR","OQDDR","NQDDR","qQGNT","uQGNT","dQGNT","tQGNT"];
const unitMap = {};
units.forEach((u,i)=>{ unitMap[u.toLowerCase()] = Math.pow(10,3*(i+1)); });
function parseEnergy(input){ input=input.trim(); const m=input.match(/^([\d.]+)\s*([a-zA-Z]+)?$/); if(!m)return 0; const n=parseFloat(m[1]); const u=m[2]?m[2].toLowerCase():""; if(!u)return n; if(unitMap.hasOwnProperty(u)) return n*unitMap[u]; return 0; }
function formatUnits(value){ for(let i=units.length-1;i>=0;i--){ let uv=Math.pow(10,3*(i+1)); if(value>=uv)return (value/uv).toFixed(3)+" "+units[i]; } return value.toFixed(3); }

// Energy Calculator
const insertedMode = document.getElementById("insertedMode");
const targetMode = document.getElementById("targetMode");
const rankMode = document.getElementById("rankMode");
const rankEnergyMap = {116: parseEnergy("tstg")};

document.getElementById("calcBtn").addEventListener("click",()=>{
  const rawE = document.getElementById("energyInput").value;
  const sec = parseInt(document.getElementById("secondsInput").value);
  const targetE = document.getElementById("targetEnergy").value;
  const out = document.getElementById("output");
  const ie = parseEnergy(rawE);
  const te = parseEnergy(targetE);

  if(ie>0 && te>0){
    const eps = ie*5.5;
    const time = te/eps;
    out.innerHTML = `üéØ <strong>Target Energy:</strong> ${formatUnits(te)}<br>‚ö° <strong>Energy per second:</strong> ${formatUnits(eps)}<br>‚è±Ô∏è <strong>Time required:</strong> ${time.toFixed(2)} s`;
    return;
  }
  if(ie>0 && sec>0){
    const eps = ie*5.5;
    const total = eps*sec;
    out.innerHTML = `‚ö° <strong>Energy per second:</strong> ${formatUnits(eps)}<br>‚è±Ô∏è <strong>Energy after ${sec} s:</strong> ${formatUnits(total)}`;
    return;
  }
  out.innerHTML="‚ö†Ô∏è Enter valid values.";
});

document.getElementById("calcRankBtn").addEventListener("click",()=>{
  const r = parseInt(document.getElementById("targetRank").value);
  const epc = parseEnergy(document.getElementById("energyInput").value);
  const out = document.getElementById("output");

  if(!rankEnergyMap[r]){ out.innerHTML="‚ö†Ô∏è Rank energy not defined yet."; return; }
  if(epc<=0){ out.innerHTML="‚ö†Ô∏è Enter valid Energy per Click."; return; }

  const eps = epc*5.5;
  const req = rankEnergyMap[r];
  const time = req/eps;
  out.innerHTML = `üèÜ <strong>Rank ${r} Energy Required:</strong> ${formatUnits(req)}<br>‚ö° <strong>Energy per second:</strong> ${formatUnits(eps)}<br>‚è±Ô∏è <strong>Time to reach Rank ${r}:</strong> ${time.toFixed(2)} s`;
});

// Damage Calculator
document.getElementById("damageCalcBtn").addEventListener("click",()=>{
  const dps = parseEnergy(document.getElementById("dpsInput").value);
  const health = parseEnergy(document.getElementById("healthInput").value);
  const out = document.getElementById("damageOutput");
  if(dps>0 && health>0){
    const t = health/dps;
    out.innerHTML=`ü©∏ <strong class="damage-output">Time to kill:</strong> <span class="damage-output">${t.toFixed(2)} s</span>`;
    return;
  }
  out.innerHTML="‚ö†Ô∏è Enter valid DPS and mob health.";
});
</script>
</body>
</html>
